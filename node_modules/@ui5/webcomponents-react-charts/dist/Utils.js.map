{"version":3,"file":"Utils.js","sources":["../src/internal/Utils.ts"],"sourcesContent":["import { getValueByDataKey } from 'recharts/lib/util/ChartUtils';\nimport { IChartMeasure } from '../interfaces/IChartMeasure';\n\nexport const getCellColors = (element: Record<string, any>, data: Record<string, any>, index: number): string => {\n  return (\n    element.highlightColor?.(getValueByDataKey(data, element.accessor), element, data) ??\n    element.color ??\n    `var(--sapChart_OrderedColor_${(index % 11) + 1})`\n  );\n};\n\nlet canvas;\n\nexport const getTextWidth = (text) => {\n  const font = `normal 12pt \"72\",\"72full\",Arial,Helvetica,sans-serif`;\n  // re-use canvas object for better performance\n  canvas = canvas || (canvas = document.createElement('canvas'));\n  const context = canvas.getContext('2d');\n  context.font = font;\n  const metrics = context.measureText(text);\n  return metrics.width;\n};\n\nexport const truncateLongLabel = (value: string, length = 13) => {\n  if (value?.length > length) {\n    return `${value.slice(0, length - 2)}...`;\n  }\n  return value;\n};\n\nexport const resolvePrimaryAndSecondaryMeasures = (measures: IChartMeasure[], secondaryAxisDataKey: string) => {\n  const secondaryMeasure = measures.find((measure) => measure.accessor === secondaryAxisDataKey);\n  const primaryMeasure = measures[0] === secondaryMeasure ? measures[1] ?? measures[0] : measures[0];\n\n  return {\n    primaryMeasure,\n    secondaryMeasure\n  };\n};\n"],"names":["getCellColors","element","data","index","highlightColor","getValueByDataKey","accessor","color","canvas","getTextWidth","text","font","document","createElement","context","getContext","metrics","measureText","width","truncateLongLabel","value","length","slice","resolvePrimaryAndSecondaryMeasures","measures","secondaryAxisDataKey","secondaryMeasure","find","measure","primaryMeasure"],"mappings":";;IAGaA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAA+BC,IAA/B,EAA0DC,KAA1D,EAAoF;AAAA;;AAC/G,oEACEF,OAAO,CAACG,cADV,2DACE,4BAAAH,OAAO,EAAkBI,iBAAiB,CAACH,IAAD,EAAOD,OAAO,CAACK,QAAf,CAAnC,EAA6DL,OAA7D,EAAsEC,IAAtE,CADT,yEAEED,OAAO,CAACM,KAFV,6EAGkCJ,KAAK,GAAG,EAAT,GAAe,CAHhD;AAKD;AAED,IAAIK,MAAJ;IAEaC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;AACpC,MAAMC,IAAI,6DAAV,CADoC;;AAGpCH,EAAAA,MAAM,GAAGA,MAAM,KAAKA,MAAM,GAAGI,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CAAf;AACA,MAAMC,OAAO,GAAGN,MAAM,CAACO,UAAP,CAAkB,IAAlB,CAAhB;AACAD,EAAAA,OAAO,CAACH,IAAR,GAAeA,IAAf;AACA,MAAMK,OAAO,GAAGF,OAAO,CAACG,WAAR,CAAoBP,IAApB,CAAhB;AACA,SAAOM,OAAO,CAACE,KAAf;AACD;IAEYC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAgC;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;;AAC/D,MAAI,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEC,MAAP,IAAgBA,MAApB,EAA4B;AAC1B,qBAAUD,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAeD,MAAM,GAAG,CAAxB,CAAV;AACD;;AACD,SAAOD,KAAP;AACD;IAEYG,kCAAkC,GAAG,SAArCA,kCAAqC,CAACC,QAAD,EAA4BC,oBAA5B,EAA6D;AAAA;;AAC7G,MAAMC,gBAAgB,GAAGF,QAAQ,CAACG,IAAT,CAAc,UAACC,OAAD;AAAA,WAAaA,OAAO,CAACtB,QAAR,KAAqBmB,oBAAlC;AAAA,GAAd,CAAzB;AACA,MAAMI,cAAc,GAAGL,QAAQ,CAAC,CAAD,CAAR,KAAgBE,gBAAhB,iBAAmCF,QAAQ,CAAC,CAAD,CAA3C,mDAAkDA,QAAQ,CAAC,CAAD,CAA1D,GAAgEA,QAAQ,CAAC,CAAD,CAA/F;AAEA,SAAO;AACLK,IAAAA,cAAc,EAAdA,cADK;AAELH,IAAAA,gBAAgB,EAAhBA;AAFK,GAAP;AAID;;;;"}