{"version":3,"file":"XAxisTicks.js","sources":["../../src/internal/XAxisTicks.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { getTextWidth, truncateLongLabel } from '@ui5/webcomponents-react-charts/dist/Utils';\nimport React, { FC } from 'react';\nimport { IChartMeasure } from '../interfaces/IChartMeasure';\n\ninterface XAxisTicksProps {\n  visibleTicksCount?: number;\n  width?: number;\n  x?: number;\n  y?: number;\n  payload?: any;\n  config: IChartMeasure;\n  secondYAxisConfig?: {\n    color: string;\n  };\n}\n\nexport const XAxisTicks: FC<XAxisTicksProps> = (props: XAxisTicksProps) => {\n  const { x, y, payload, config, visibleTicksCount, width, secondYAxisConfig } = props;\n\n  const bandWidth = width / visibleTicksCount;\n  const shouldRotate = bandWidth <= 100;\n\n  const formattedValue = config.formatter(payload.value);\n  let textToDisplay = formattedValue;\n  if (shouldRotate) {\n    textToDisplay = truncateLongLabel(formattedValue, 11);\n  } else if (getTextWidth(formattedValue) > bandWidth) {\n    for (let i = `${formattedValue}`.length; i > 0; i--) {\n      textToDisplay = truncateLongLabel(formattedValue, i);\n      if (getTextWidth(textToDisplay) <= bandWidth) {\n        break;\n      }\n    }\n  }\n\n  return (\n    <g style={{ direction: 'ltr' }} transform={`translate(${x},${y + (secondYAxisConfig ? 0 : 10)})`}>\n      <text\n        fill={secondYAxisConfig?.color ?? ThemingParameters.sapContent_LabelColor}\n        transform={shouldRotate ? 'rotate(-35)' : undefined}\n        textAnchor={shouldRotate ? 'end' : 'middle'}\n      >\n        {textToDisplay}\n      </text>\n    </g>\n  );\n};\n"],"names":["XAxisTicks","props","x","y","payload","config","visibleTicksCount","width","secondYAxisConfig","bandWidth","shouldRotate","formattedValue","formatter","value","textToDisplay","truncateLongLabel","getTextWidth","i","length","direction","color","ThemingParameters","sapContent_LabelColor","undefined"],"mappings":";;;;IAiBaA,UAA+B,GAAG,SAAlCA,UAAkC,CAACC,KAAD,EAA4B;AAAA;;AACzE,MAAQC,CAAR,GAA+ED,KAA/E,CAAQC,CAAR;AAAA,MAAWC,CAAX,GAA+EF,KAA/E,CAAWE,CAAX;AAAA,MAAcC,OAAd,GAA+EH,KAA/E,CAAcG,OAAd;AAAA,MAAuBC,MAAvB,GAA+EJ,KAA/E,CAAuBI,MAAvB;AAAA,MAA+BC,iBAA/B,GAA+EL,KAA/E,CAA+BK,iBAA/B;AAAA,MAAkDC,KAAlD,GAA+EN,KAA/E,CAAkDM,KAAlD;AAAA,MAAyDC,iBAAzD,GAA+EP,KAA/E,CAAyDO,iBAAzD;AAEA,MAAMC,SAAS,GAAGF,KAAK,GAAGD,iBAA1B;AACA,MAAMI,YAAY,GAAGD,SAAS,IAAI,GAAlC;AAEA,MAAME,cAAc,GAAGN,MAAM,CAACO,SAAP,CAAiBR,OAAO,CAACS,KAAzB,CAAvB;AACA,MAAIC,aAAa,GAAGH,cAApB;;AACA,MAAID,YAAJ,EAAkB;AAChBI,IAAAA,aAAa,GAAGC,iBAAiB,CAACJ,cAAD,EAAiB,EAAjB,CAAjC;AACD,GAFD,MAEO,IAAIK,YAAY,CAACL,cAAD,CAAZ,GAA+BF,SAAnC,EAA8C;AACnD,SAAK,IAAIQ,CAAC,GAAG,UAAGN,cAAH,EAAoBO,MAAjC,EAAyCD,CAAC,GAAG,CAA7C,EAAgDA,CAAC,EAAjD,EAAqD;AACnDH,MAAAA,aAAa,GAAGC,iBAAiB,CAACJ,cAAD,EAAiBM,CAAjB,CAAjC;;AACA,UAAID,YAAY,CAACF,aAAD,CAAZ,IAA+BL,SAAnC,EAA8C;AAC5C;AACD;AACF;AACF;;AAED,sBACE;AAAG,IAAA,KAAK,EAAE;AAAEU,MAAAA,SAAS,EAAE;AAAb,KAAV;AAAgC,IAAA,SAAS,sBAAejB,CAAf,cAAoBC,CAAC,IAAIK,iBAAiB,GAAG,CAAH,GAAO,EAA5B,CAArB;AAAzC,kBACE;AACE,IAAA,IAAI,2BAAEA,iBAAF,aAAEA,iBAAF,uBAAEA,iBAAiB,CAAEY,KAArB,yEAA8BC,iBAAiB,CAACC,qBADtD;AAEE,IAAA,SAAS,EAAEZ,YAAY,GAAG,aAAH,GAAmBa,SAF5C;AAGE,IAAA,UAAU,EAAEb,YAAY,GAAG,KAAH,GAAW;AAHrC,KAKGI,aALH,CADF,CADF;AAWD;;;;"}