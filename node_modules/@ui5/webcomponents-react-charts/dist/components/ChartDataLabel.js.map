{"version":3,"file":"ChartDataLabel.js","sources":["../../src/internal/ChartDataLabel.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { getTextWidth } from '@ui5/webcomponents-react-charts/dist/Utils';\nimport React, { createElement, FC } from 'react';\nimport { Label } from 'recharts';\nimport { IChartMeasure } from '../interfaces/IChartMeasure';\n\ninterface CustomDataLabelProps {\n  config: IChartMeasure;\n  viewBox?: any;\n  chartType: 'bar' | 'column' | 'line' | 'radar' | 'pie' | 'area';\n  position?: string;\n  value?: any;\n  children?: any;\n}\n\nexport const ChartDataLabel: FC<CustomDataLabelProps> = (props: CustomDataLabelProps) => {\n  const { config, chartType, viewBox } = props;\n  if (config.hideDataLabel) {\n    return null;\n  }\n\n  if (config.DataLabel) {\n    return createElement(config.DataLabel, props);\n  }\n\n  const formattedLabel = config.formatter(props.value ?? props.children);\n  if (chartType === 'bar' || chartType === 'column') {\n    if (Math.abs(viewBox.width) < getTextWidth(formattedLabel)) {\n      return null;\n    }\n    if (Math.abs(viewBox.height) < 12) {\n      return null;\n    }\n  }\n\n  let fill = ThemingParameters.sapContent_ContrastTextColor;\n  if (['area', 'line', 'radar'].includes(chartType)) {\n    fill = ThemingParameters.sapTextColor; // label is displayed outside of the colored element\n  }\n\n  return (\n    <Label\n      viewBox={viewBox}\n      {...(props as any)}\n      fill={fill}\n      stroke={'none'}\n      content={undefined}\n      value={formattedLabel}\n    />\n  );\n};\n"],"names":["ChartDataLabel","props","config","chartType","viewBox","hideDataLabel","DataLabel","createElement","formattedLabel","formatter","value","children","Math","abs","width","getTextWidth","height","fill","ThemingParameters","sapContent_ContrastTextColor","includes","sapTextColor","undefined"],"mappings":";;;;;;IAeaA,cAAwC,GAAG,SAA3CA,cAA2C,CAACC,KAAD,EAAiC;AAAA;;AACvF,MAAQC,MAAR,GAAuCD,KAAvC,CAAQC,MAAR;AAAA,MAAgBC,SAAhB,GAAuCF,KAAvC,CAAgBE,SAAhB;AAAA,MAA2BC,OAA3B,GAAuCH,KAAvC,CAA2BG,OAA3B;;AACA,MAAIF,MAAM,CAACG,aAAX,EAA0B;AACxB,WAAO,IAAP;AACD;;AAED,MAAIH,MAAM,CAACI,SAAX,EAAsB;AACpB,wBAAOC,aAAa,CAACL,MAAM,CAACI,SAAR,EAAmBL,KAAnB,CAApB;AACD;;AAED,MAAMO,cAAc,GAAGN,MAAM,CAACO,SAAP,iBAAiBR,KAAK,CAACS,KAAvB,uDAAgCT,KAAK,CAACU,QAAtC,CAAvB;;AACA,MAAIR,SAAS,KAAK,KAAd,IAAuBA,SAAS,KAAK,QAAzC,EAAmD;AACjD,QAAIS,IAAI,CAACC,GAAL,CAAST,OAAO,CAACU,KAAjB,IAA0BC,YAAY,CAACP,cAAD,CAA1C,EAA4D;AAC1D,aAAO,IAAP;AACD;;AACD,QAAII,IAAI,CAACC,GAAL,CAAST,OAAO,CAACY,MAAjB,IAA2B,EAA/B,EAAmC;AACjC,aAAO,IAAP;AACD;AACF;;AAED,MAAIC,IAAI,GAAGC,iBAAiB,CAACC,4BAA7B;;AACA,MAAI,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0BC,QAA1B,CAAmCjB,SAAnC,CAAJ,EAAmD;AACjDc,IAAAA,IAAI,GAAGC,iBAAiB,CAACG,YAAzB,CADiD;AAElD;;AAED,sBACE,oBAAC,KAAD;AACE,IAAA,OAAO,EAAEjB;AADX,KAEOH,KAFP;AAGE,IAAA,IAAI,EAAEgB,IAHR;AAIE,IAAA,MAAM,EAAE,MAJV;AAKE,IAAA,OAAO,EAAEK,SALX;AAME,IAAA,KAAK,EAAEd;AANT,KADF;AAUD;;;;"}